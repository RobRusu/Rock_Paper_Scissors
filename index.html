<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Rock Paper Scissors</title>
</head>
<body>
  <section class="container">
    <h1>Rock - Paper - Scissors</h1>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>
    <div></div>
    <p id="player">Player score: 0</p>
    <p id="computer">Computer score: 0</p>
    <button id="restart">Restart</button>
  </section>
  <script>
    function getComputerChoice(){
      let choice = Math.floor(Math.random() * 3);
      let computerChoice;
      if (choice === 0){
        return computerChoice = "Computer: Rock";
      } else if (choice === 1){
        return computerChoice = "Computer: Paper";
      } else {
        return computerChoice = "Computer: Scissors";
      }
    }

    function singleRound(playerSelection, computerSelection){
      if ((playerCount < 5 && computerCount < 5) && ((playerSelection === "Player: Rock" && computerSelection === "Computer: Rock") || (playerSelection === "Player: Paper" && computerSelection === "Computer: Paper") || (playerSelection === "Player: Scissors" && computerSelection === "Computer: Scissors"))){
        const div = document.querySelector('div');
        div.textContent = "It's a tie!";
      } else if ((playerCount < 5 && computerCount < 5) && (playerSelection === "Player: Rock" && computerSelection === "Computer: Scissors")){
        const div = document.querySelector('div');
        div.textContent = "You win! Rock beats Scissors";
        playerCount++;
      } else if ((playerCount < 5 && computerCount < 5) && (playerSelection === "Player: Rock" && computerSelection === "Computer: Paper")){
        computerCount++;
        const div = document.querySelector('div');
        div.textContent = "You lose! Paper beats Rock";
      } else if ((playerCount < 5 && computerCount < 5) && (playerSelection === "Player: Paper" && computerSelection === "Computer: Rock")){
        playerCount++;
        const div = document.querySelector('div');
        div.textContent = "You win! Paper beats Rock";
      } else if ((playerCount < 5 && computerCount < 5) && (playerSelection === "Player: Paper" && computerSelection === "Computer: Scissors")){
        computerCount++;
        const div = document.querySelector('div');
        div.textContent = "You lose! Scissors beats Paper";
      } else if ((playerCount < 5 && computerCount < 5) && (playerSelection === "Player: Scissors" && computerSelection === "Computer: Paper")){
        playerCount++;
        const div = document.querySelector('div');
        div.textContent = "You win! Scissors beats Paper";
      } else if ((playerCount < 5 && computerCount < 5) && (playerSelection === "Player: Scissors" && computerSelection === "Computer: Rock")){
        computerCount++;
        const div = document.querySelector('div');
        div.textContent = "You lose! Rock beats Scissors";
      }
      if (playerCount == 5){
        const div = document.querySelector('div');
        div.textContent = 'You win!'
      } else if (computerCount == 5){
        const div = document.querySelector('div');
        div.textContent = 'Computer won!'
      }
      const playerScore = document.querySelector('#player');
      const computerScore = document.querySelector('#computer');
      playerScore.textContent = `Player score: ${playerCount}`;
      computerScore.textContent = `Computer score: ${computerCount}`;
    }

    let computerChoice;
    let playerCount = 0;
    let computerCount = 0;

    const rock = document.querySelector('#rock');
    const paper = document.querySelector('#paper');
    const scissors = document.querySelector('#scissors')
    rock.addEventListener('click', () => {
      computerChoice = getComputerChoice();
      singleRound("Player: Rock", computerChoice);
    });
    paper.addEventListener('click', () => {
      computerChoice = getComputerChoice();
      singleRound("Player: Paper", computerChoice);
    });
    scissors.addEventListener('click', () => {
      computerChoice = getComputerChoice();
      singleRound("Player: Scissors", computerChoice);
    });
    const restart = document.querySelector('#restart');
    restart.addEventListener('click', () => {
      playerCount = 0;
      computerCount = 0;
      const playerScore = document.querySelector('#player');
      const computerScore = document.querySelector('#computer');
      const div = document.querySelector('div');
      div.textContent = ''
      playerScore.textContent = `Player score: ${playerCount}`;
      computerScore.textContent = `Computer score: ${computerCount}`;
    })
  </script>
</body>
</html>